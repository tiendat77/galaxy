import { Component, ChangeDetectionStrategy, OnInit } from '@angular/core';
import { FormControl } from '@angular/forms';
import { GalaxyService } from '../galaxy.service';

@Component({
  selector: 'galaxy-switch-demo',
  templateUrl: './switch-demo.html',
  styleUrls: ['./switch-demo.scss'],
  changeDetection: ChangeDetectionStrategy.OnPush
})
export class GalaxySwitchDemoComponent implements OnInit {

  id = 'ui/switch';

  html = `
  <div class="example-margin bulb">
    <ng-template #bulbOn [ngIf]="checked" [ngIfElse]="bulbOff">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
        <path fill="#ffd15c" d="M314.667 391.467c6.4-21.333 19.2-40.533 36.267-55.467 32-26.667 52.267-67.2 52.267-112 0-83.2-69.333-151.467-154.667-147.2C172.8 80 110.933 144 108.8 219.733 107.733 266.667 128 308.267 161.067 336 179.2 350.933 192 370.133 198.4 391.467h116.267z"/>
        <path fill="#fff" d="M242.133 393.6h9.6l-42.667-158.933h3.2c5.333 0 10.667-2.133 14.933-6.4 2.133-2.133 4.267-3.2 7.467-3.2 3.2 0 5.333 1.067 7.467 3.2 7.467 8.533 20.267 8.533 27.733 0 2.133-2.133 4.267-3.2 7.467-3.2 2.133 0 5.333 1.067 7.467 3.2 4.267 4.267 8.533 6.4 14.933 6.4h3.2l-41.6 158.933h9.6l43.733-166.4c0-2.133 0-4.267-2.133-5.333-2.133-1.067-4.267 0-5.333 1.067-2.133 2.133-4.267 3.2-6.4 3.2-3.2 0-5.333-1.067-8.533-3.2-4.267-4.267-8.533-6.4-13.867-6.4s-9.6 2.133-13.867 6.4-10.667 4.267-14.933 0c-3.2-4.267-8.533-6.4-13.867-6.4-5.333 0-10.667 2.133-13.867 6.4-2.133 2.133-5.333 3.2-8.533 3.2-2.133 0-5.333-1.067-6.4-3.2-1.067-1.067-3.2-2.133-5.333-1.067-2.133 1.067-3.2 3.2-2.133 5.333l42.666 166.4z"/>
        <path fill="#344a5e" d="M222.933 489.6C228.267 502.4 241.067 512 256 512s27.733-9.6 33.067-22.4h-66.134z"/>
        <path fill="#344a5e" d="M295.467 490.667H217.6a19.12 19.12 0 0 1-19.2-19.2V390.4h116.267v81.067c0 10.666-8.534 19.2-19.2 19.2z"/>
        <path fill="#415a6b" d="M313.6 430.933H198.4c-6.4 0-11.733-5.333-11.733-11.733S192 407.467 198.4 407.467h115.2c6.4 0 11.733 5.333 11.733 11.733S320 430.933 313.6 430.933zM313.6 468.267H198.4c-6.4 0-11.733-5.333-11.733-11.733S192 444.801 198.4 444.801h115.2c6.4 0 11.733 5.333 11.733 11.733 0 6.399-5.333 11.733-11.733 11.733z"/>
        <path fill="#ffd15c" d="M256 0c-5.333 0-10.667 4.267-10.667 10.667v36.267c0 5.333 4.267 10.667 10.667 10.667 6.4 0 10.667-4.267 10.667-10.667V10.667C266.667 4.267 261.333 0 256 0zM113.067 65.067c-4.267-4.267-10.667-4.267-14.933 0s-4.267 10.667 0 14.933l25.6 25.6c4.267 4.267 10.667 4.267 14.933 0s4.267-10.667 0-14.933l-25.6-25.6zM80 212.267H43.733c-5.333 0-10.667 4.267-10.667 10.667 0 5.333 4.267 10.667 10.667 10.667H80c5.333 0 10.667-4.267 10.667-10.667 0-5.334-5.334-10.667-10.667-10.667zM123.733 340.267l-25.6 25.6c-4.267 4.267-4.267 10.667 0 14.933s10.667 4.267 14.933 0l25.6-25.6c4.267-4.267 4.267-10.667 0-14.933s-10.666-4.267-14.933 0zM388.267 340.267C384 336 377.6 336 373.333 340.267c-4.267 4.267-4.267 10.667 0 14.933l25.6 25.6c4.267 4.267 10.667 4.267 14.933 0s4.267-10.667 0-14.933l-25.599-25.6zM468.267 212.267H432c-5.333 0-10.667 4.267-10.667 10.667 0 5.333 4.267 10.667 10.667 10.667h36.267c5.333 0 10.667-4.267 10.667-10.667-.001-5.334-4.267-10.667-10.667-10.667zM398.933 65.067l-25.6 25.6c-4.267 4.267-4.267 10.667 0 14.933 4.267 4.267 10.667 4.267 14.933 0l25.6-25.6c4.267-4.267 4.267-10.667 0-14.933s-10.666-4.267-14.933 0z"/>
      </svg>
    </ng-template>

    <ng-template #bulbOff >
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
        <path fill="#cacaca" d="M314.667 391.467c6.4-21.333 19.2-40.533 36.267-55.467 32-26.667 52.267-67.2 52.267-112 0-83.2-69.333-151.467-154.667-147.2C172.8 80 110.933 144 108.8 219.733 107.733 266.667 128 308.267 161.067 336 179.2 350.933 192 370.133 198.4 391.467h116.267z" />
        <path fill="#344a5e" d="M242.133 393.6h9.6l-42.667-158.933h3.2c5.333 0 10.667-2.133 14.933-6.4 2.133-2.133 4.267-3.2 7.467-3.2 3.2 0 5.333 1.067 7.467 3.2 7.467 8.533 20.267 8.533 27.733 0 2.133-2.133 4.267-3.2 7.467-3.2 2.133 0 5.333 1.067 7.467 3.2 4.267 4.267 8.533 6.4 14.933 6.4h3.2l-41.6 158.933h9.6l43.733-166.4c0-2.133 0-4.267-2.133-5.333-2.133-1.067-4.267 0-5.333 1.067-2.133 2.133-4.267 3.2-6.4 3.2-3.2 0-5.333-1.067-8.533-3.2-4.267-4.267-8.533-6.4-13.867-6.4s-9.6 2.133-13.867 6.4-10.667 4.267-14.933 0c-3.2-4.267-8.533-6.4-13.867-6.4-5.333 0-10.667 2.133-13.867 6.4-2.133 2.133-5.333 3.2-8.533 3.2-2.133 0-5.333-1.067-6.4-3.2-1.067-1.067-3.2-2.133-5.333-1.067-2.133 1.067-3.2 3.2-2.133 5.333l42.666 166.4z" />
        <path fill="#344a5e" d="M222.933 489.6C228.267 502.4 241.067 512 256 512s27.733-9.6 33.067-22.4h-66.134z" />
        <path fill="#344a5e" d="M295.467 490.667H217.6a19.12 19.12 0 0 1-19.2-19.2V390.4h116.267v81.067c0 10.666-8.534 19.2-19.2 19.2z" />
        <path fill="#415a6b" d="M313.6 430.933H198.4c-6.4 0-11.733-5.333-11.733-11.733S192 407.467 198.4 407.467h115.2c6.4 0 11.733 5.333 11.733 11.733S320 430.933 313.6 430.933zm0 37.334H198.4c-6.4 0-11.733-5.333-11.733-11.733S192 444.801 198.4 444.801h115.2c6.4 0 11.733 5.333 11.733 11.733 0 6.399-5.333 11.733-11.733 11.733z" />
      </svg>
    </ng-template>
  </div>

  <div class="example-margin state">
    Bulb is: {{ checked ? 'ON' : 'OFF' }}
  </div>

  <galaxy-switch class="example-margin" [(ngModel)]="checked">
    Toggle the bulb (ngModel)
  </galaxy-switch>

  <galaxy-switch class="example-margin" [formControl]="subCtrl">
    Tell me when someone switch the bulb (Form Control)
  </galaxy-switch>

  <div class="example-margin">
    Your bulb subscription: {{subCtrl.value ? 'YES' : 'NO'}}
  </div>
  `;
  sass = `
  .bulb {
    svg {
      width: 120px;
      height: 120px;
    }
  }

  .state {
    width: 100px;
  }

  .example-margin {
    margin: 10px 0;
  }
  `;
  ts = `
  import { Component } from '@angular/core';

  @Component({
    selector: 'galaxy-switch-demo',
    templateUrl: './switch-demo.html',
    styleUrls: ['./switch-demo.scss']
  })
  export class GalaxySwitchDemoComponent {

    checked: boolean = false;
    subCtrl: FormControl = new FormControl(true);

    constructor() { }

  }
  `;

  checked: boolean = false;
  subCtrl: FormControl = new FormControl(true);

  constructor(private galaxy: GalaxyService) { }

  ngOnInit() {
    this.galaxy.setModule(this.id);
  }

  test() {
    this.checked = !this.checked;
  }

}
